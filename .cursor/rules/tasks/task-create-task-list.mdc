---
description: A structured framework for creating strategic project plans. This framework elevates task management from a simple to-do list to a document of strategic intent and methodological rigor.
globs:
alwaysApply: false
---

## 1. Phase-Level Execution Strategy
For each major phase (e.g., `1.0`, `2.0`), the AI planner MUST define a `Methodology` block. This forces a deliberate, documented choice on how the phase should be executed.

- [ ] **X.0 Parent Task Title**
    - **Methodology:**
        - **Context Protocol:** [Must be one of: `Single Unified Context`, `Fresh Instance per Sub-task`, or `Hybrid`]; If the method is `Hybrid` state the exact specific subtasks that need a new context (e.g. 5.1-5.3 - Unified context; 5.4, 5.5, 5.6 - Fresh context)
        - **Rationale:** [A single, concise sentence explaining why the protocol was chosen.]

#### Context Protocol Definitions:

*   **`Single Unified Context`:** A single AI instance will perform all sub-tasks in this phase sequentially.
    *   *Use Case:* For creative or synthesis tasks where retaining context is essential.
*   **`Fresh Instance per Sub-task`:** Each sub-task will be executed by a new, separate AI instance.
    *   *Use Case:* For engineering or validation tasks to test artifact integrity and enforce task purity.
*   **`Hybrid`:** A combination of the above. The instructions for sub-tasks will specify where context should be passed and where it should be reset.
    *   *Use Case:* For complex phases with mixed creative and technical sub-tasks.


## 2. Task List Structure

The task list must be structured hierarchically, with each sub-task containing a formal "Task Brief" to ensure clarity and repeatability.

### Relevant Files/Context
- List all `.md` files that define the project's strategy and context.
- List all key artifacts that will be created or modified as part of the plan.

### Task Hierarchy
- [ ] **X.0 Parent Task Title**
    - **Methodology:**
        - **Context Protocol:** ...
        - **Rationale:** ...
    - [ ] **X.Y Sub-Task Title**
        - **Task Brief:**
            - **LLM Persona:** A specific role for the AI (e.g., "Lead Engineer," "Critical Design Analyst").
            - **Required Context:** A list of the exact files (`@filename.md`) the AI must read to have the full context for this specific task.
            - **Instructions:** A numbered list of clear, unambiguous steps the AI must follow.
            - **Output:** A description of the primary artifact(s) to be created or modified.

## 3. Task Implementation Protocol

The AI executing the tasks MUST adhere to the `Context Protocol` defined for the current phase.

*   **Completion:** When all sub-tasks underneath a parent task are `[x]`, mark the parent task as `[x]`.
*   **Handoff:** After completing a task or phase, summarize the key accomplishments and outcomes before proceeding.


## 4. Quality Assurance
For complex analytical tasks, the plan should integrate quality gates.
- **Assumption Validation:** Explicit steps to validate assumptions with the user.
- **Methodology Verification:** Present the approach for user approval before execution.
- **Sample Validation:** For tasks involving complex data transformation or generation, show a small, representative sample of the output for user approval before processing the full set.
- **Quality Checkpoints:** Define logical break points to verify direction before proceeding to the next phase.

## 5. The Plan as a Living Document

This strategic plan is not static. It must be revisited and updated continuously to reflect new insights and changes in user intent.

- **Continuous Maintenance:** The "Relevant Files/Context" section must be kept up-to-date as new artifacts are created.
- **Intent-Driven Adaptation:** The AI planner is responsible for recognizing when the user's goal has shifted and must proactively suggest updates to the plan to realign with the new direction. 